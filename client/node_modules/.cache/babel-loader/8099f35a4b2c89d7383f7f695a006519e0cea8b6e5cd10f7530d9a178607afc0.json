{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate}from\"react-router-dom\";import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskForm=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[assignedTo,setassignedTo]=useState('');const[users,setUsers]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchUsers=async()=>{try{const response=await axios.get('http://localhost:8000/api/users',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setUsers(response.data);}catch(error){console.log('error fetching users',error);}};fetchUsers();},[]);const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:8000/api/tasks',{title,description,assignedTo},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});toast.success(response.data.message);navigate('/dashboard');}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-6 p-4 bg-gray-200 shadow-md rounded-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Create New Task\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",value:title,onChange:e=>setTitle(e.target.value),required:true,className:\"w-full p-2 mb-4 border border-gray-200 rounded-md\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"description\",value:description,onChange:e=>setDescription(e.target.value),className:\"w-full p-2 mb-4 border border-gray-200 rounded-md\"}),/*#__PURE__*/_jsxs(\"select\",{value:assignedTo,onChange:e=>setassignedTo(e.target.value),className:\"w-full p-2 mb-6 border border-gray-200 rounded-md\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Assign To\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user._id,children:user.username},user._id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 mb-3 bg-blue-600 text-white hover:bg-blue-700 rounded-md cursor-pointer\",children:\"Add\"})})]})]});};export default TaskForm;","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","TaskForm","title","setTitle","description","setDescription","assignedTo","setassignedTo","users","setUsers","navigate","fetchUsers","response","get","headers","Authorization","concat","localStorage","getItem","data","error","console","log","handleSubmit","e","preventDefault","post","success","message","className","children","onSubmit","type","placeholder","value","onChange","target","required","map","user","_id","username"],"sources":["D:/ZyWork/resume-practice/1.Apps/jira/server/client/src/components/TaskForm.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\n\r\nconst TaskForm = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [assignedTo, setassignedTo] = useState('');\r\n    const [users, setUsers] = useState([]);\r\n    const navigate = useNavigate()\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async() => {\r\n           try {\r\n            const response = await axios.get('http://localhost:8000/api/users', {\r\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n            });\r\n            setUsers(response.data)\r\n           } catch (error) {\r\n             console.log('error fetching users', error)\r\n           }\r\n        }\r\n        fetchUsers();\r\n    }, [])\r\n\r\n    const handleSubmit = async (e) => {\r\n       e.preventDefault();\r\n       try {\r\n         const response = await axios.post('http://localhost:8000/api/tasks', {title, description, assignedTo}, {\r\n            headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        }) ;\r\n        toast.success(response.data.message)\r\n        navigate('/dashboard')\r\n       } catch (error) {\r\n        console.log(error);\r\n       }\r\n    }\r\n  return (\r\n    <div className='max-w-md mx-auto mt-6 p-4 bg-gray-200 shadow-md rounded-md'>\r\n      <h2 className='text-2xl font-bold mb-4'>Create New Task</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type='text' placeholder='title' value={title} onChange={(e) => setTitle(e.target.value)} \r\n          required className='w-full p-2 mb-4 border border-gray-200 rounded-md'\r\n        />\r\n        <textarea placeholder='description' value={description} onChange={(e) => setDescription(e.target.value)} \r\n            className='w-full p-2 mb-4 border border-gray-200 rounded-md'\r\n            />\r\n        <select value={assignedTo} onChange={(e) => setassignedTo(e.target.value)  } className='w-full p-2 mb-6 border border-gray-200 rounded-md'>\r\n            <option value=\"\">Assign To</option>\r\n            {\r\n                users.map((user) => (\r\n                    <option key={user._id} value={user._id}>{user.username}</option>\r\n                ))\r\n            }\r\n        </select>\r\n        <div className='flex justify-center'>\r\n              <button type='submit' className='px-4 py-2 mb-3 bg-blue-600 text-white hover:bg-blue-700 rounded-md cursor-pointer'>Add</button>\r\n            </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TaskForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}