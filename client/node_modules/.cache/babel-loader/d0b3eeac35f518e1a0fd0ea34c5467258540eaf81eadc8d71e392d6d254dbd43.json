{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EditTask=()=>{const{id}=useParams();const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[assignedTo,setassignedTo]=useState('');const[status,setStatus]=useState('pending');const navigate=useNavigate();const[users,setUsers]=useState([]);// const history = useHistory();\nuseEffect(()=>{const fetchTask=async()=>{try{const res=await axios.get(\"http://localhost:8000/api/tasks/\".concat(id));const task=res.data;setTitle(task.title);setDescription(task.description);setassignedTo(task.assignedTo);setStatus(task.status);console.log(\"task\",task);}catch(error){console.log(error);}};fetchTask();},[id]);useEffect(()=>{const fetchUsers=async()=>{try{const response=await axios.get('http://localhost:8000/api/users',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setUsers(response.data);}catch(error){console.log('error fetching users',error);}};fetchUsers();},[]);const handleSubmit=async e=>{e.preventDefault();try{await axios.put(\"http://localhost:8000/api/tasks/\".concat(id),{title,description,assignedTo,status},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});navigate('/dashboard');}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-6 p-4 bg-slate-200 shadow-md rounded-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Edit Task\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",value:title,onChange:e=>setTitle(e.target.value),required:true,className:\"w-full p-2 mb-4 border border-gray-200 rounded-md\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"description\",value:description,onChange:e=>setDescription(e.target.value),className:\"w-full p-2 mb-4 border border-gray-200 rounded-md\"}),/*#__PURE__*/_jsxs(\"select\",{value:assignedTo,onChange:e=>setassignedTo(e.target.value),className:\"w-full p-2 mb-6 border border-gray-200 rounded-md\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Assign To\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user._id,children:user.username},user._id))]}),/*#__PURE__*/_jsx(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"w-full p-2 mb-6 border border-gray-200 rounded-md\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in-progress\",children:\"In-Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-2 bg-blue-500 text-white rounded-md\",children:\"Update\"})]})]});};export default EditTask;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditTask","id","title","setTitle","description","setDescription","assignedTo","setassignedTo","status","setStatus","navigate","users","setUsers","fetchTask","res","get","concat","task","data","console","log","error","fetchUsers","response","headers","Authorization","localStorage","getItem","handleSubmit","e","preventDefault","put","className","children","onSubmit","type","placeholder","value","onChange","target","required","map","user","_id","username"],"sources":["D:/ZyWork/resume-practice/1.Apps/jira/server/client/src/components/EditTask.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {useNavigate, useParams} from 'react-router-dom';\r\n\r\n\r\nconst EditTask = () => {\r\n    const {id} = useParams();\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [assignedTo, setassignedTo] = useState('');\r\n    const [status, setStatus] = useState('pending');\r\n    const navigate = useNavigate();\r\n    const [users, setUsers] = useState([]);\r\n\r\n    // const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const fetchTask = async() => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/api/tasks/${id}`);\r\n                const task = res.data;\r\n                \r\n                setTitle(task.title);\r\n                setDescription(task.description);\r\n                setassignedTo(task.assignedTo);\r\n                setStatus(task.status)\r\n                console.log(\"task\",task);\r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        };\r\n\r\n        fetchTask();\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async() => {\r\n           try {\r\n            const response = await axios.get('http://localhost:8000/api/users', {\r\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n            });\r\n            setUsers(response.data)\r\n           } catch (error) {\r\n             console.log('error fetching users', error)\r\n           }\r\n        }\r\n        fetchUsers();\r\n    }, [])\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        try {\r\n            \r\n            await axios.put(`http://localhost:8000/api/tasks/${id}`,  \r\n                {title, description, assignedTo, status }, {\r\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n                \r\n            });\r\n            navigate('/dashboard');\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className='max-w-md mx-auto mt-6 p-4 bg-slate-200 shadow-md rounded-md'>\r\n        <h2 className='text-2xl font-bold mb-4'>Edit Task</h2>\r\n        <form onSubmit={handleSubmit}>\r\n        <input type='text' placeholder='title' value={title} onChange={(e) => setTitle(e.target.value)} \r\n          required className='w-full p-2 mb-4 border border-gray-200 rounded-md'\r\n        />\r\n        <textarea placeholder='description' value={description} onChange={(e) => setDescription(e.target.value)} \r\n            className='w-full p-2 mb-4 border border-gray-200 rounded-md'\r\n            />\r\n        <select value={assignedTo} onChange={(e) => setassignedTo(e.target.value)  } className='w-full p-2 mb-6 border border-gray-200 rounded-md'>\r\n            <option value=\"\">Assign To</option>\r\n            {\r\n                users.map((user) => (\r\n                    <option key={user._id} value={user._id}>{user.username}</option>\r\n                ))\r\n            }\r\n        </select>\r\n        <select value={status} onChange={(e) => setStatus(e.target.value)  } className='w-full p-2 mb-6 border border-gray-200 rounded-md'>\r\n            {\r\n                \r\n                <>\r\n            <option value=\"\">Status</option>\r\n\r\n                <option value='pending'>Pending</option>\r\n                <option value='in-progress'>In-Progress</option>\r\n                <option value='completed'>Completed</option></>\r\n                \r\n               \r\n            }\r\n        </select>\r\n        \r\n           <button type='submit' className='w-full p-2 bg-blue-500 text-white rounded-md'>\r\n            Update\r\n           </button>\r\n\r\n\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditTask;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}